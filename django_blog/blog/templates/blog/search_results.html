{% extends "blog/base.html" %}

{% block content %}
  <h2>Search results for "{{ query }}"</h2>

  {% if results %}
    <ul class="list-group">
      {% for post in results %}
        <li class="list-group-item">
          <a href="{% url 'post-detail' post.pk %}">{{ post.title }}</a>
          <small class="text-muted">by {{ post.author }} on {{ post.date_posted|date:"M d, Y" }}</small>
          {% if post.tags.exists %}
            <p>Tags:
              {% for tag in post.tags.all %}
                <a href="{% url 'tagged-posts' tag.name %}" class="badge bg-info">{{ tag.name }}</a>
              {% endfor %}
            </p>
          {% endif %}
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p>No posts match your search query.</p>
  {% endif %}

  <a href="{% url 'post-list' %}" class="btn btn-secondary mt-3">Back to all posts</a>
{% endblock %}
